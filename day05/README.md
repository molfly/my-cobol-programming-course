# Использование PERFORM, GO TO и IF для управления программами

В COBOL флоу программы почти полностью контролируется операторами `IF-ELSE`, глаголом `PERFORM` и `GO TO`, который является новым глаголом, который вы рассмотрите сегодня. Есть несколько дополнительных версий команды `PERFORM` и оператора `IF-ELSE`, обеспечивающих еще больший контроль, и они также рассматриваются. Сегодня вы узнаете о следующих темах:
- Использование `GO TO` для управления программой.
- Многократное использование `PERFORM`.
- Что такое цикл обработки?
- Использование `PERFORM` для управления циклом обработки.

## Использование GO TO для управления программой

Вы можете заставить программу перейти к началу любого абзаца с помощью `GO TO`.
```
GO TO paragraph-name.
```
`GO TO` похож на `PERFORM` тем, что программа переходит к новому абзацу. Однако, когда этот абзац завершен, `PERFORM` возвращается к строке, на которой был запрошен `PERFORM`, а `GO TO` - нет. Когда GO TO достигает конца абзаца, к которому он перешел, он переходит к следующему абзацу. `GO TO` пишется как два слова, но используется как одно. Слова всегда появляются вместе. 

ANALYSIS: В строке 12 `PERFORM` запрашивает `SHALL-WE-CONTINUE`. В этом абзаце в строках 21 и 22 пользователя спрашивают, хочет ли он продолжить. Когда пользователь вводит ответ, возможное «n» преобразуется в «N», и логика в строке 13 проверяет, ввел ли пользователь N, и, если да, выполнение программы в строке 14 переходит прямо к `PROGRAM-DONE`. `PROGRAM-DONE` содержит уже знакомый `STOP RUN`, и выполнение программы прекращается.

Альтернативой является то, что пользователь вводит что-то отличное от N (или n), и строка 13 пропускается. Следующая выполняемая строка - 16, где программа запрашивает `PERFORM` `MAIN-LOGIC`. (В этом примере содержание MAIN-LOGIC не имеет значения.)

Использование `GO TO` в программах - это горячо обсуждаемый вопрос.

```
./mult01.cbl
```
Безусловно, легетимно использовать GO TO внизу абзаца, чтобы вернуться к началу абзаца, чтобы выполнить абзац снова при определенных условиях, хотя некоторые будут оспаривать даже такое использование.

После того, как вы поработали с изменением реального кода, вы поймете, почему не рекомендуется использовать `GO TO`. Это очень сбивает с толку - следовать абзацу логики и находить ПЕРЕХОД к другому абзацу где-нибудь еще в программе. Поскольку GO TO не возвращается, у вас нет возможности узнать, будет ли когда-либо выполняться остальная часть текущего абзаца или программист просто пропустил все остальное по какой-то причине.

## Повторное использование PERFORM

Теперь, когда вас предупредили о пороках `GO TO`, как вы могли написать предыдущую программу без нее? Для этой цели доступен глагол `PERFORM` - во множестве флоу. Один из них позволяет выполнить абзац несколько раз:
```
PERFORM A-PARAGRAPH 10 TIMES.
```

mult02.cbl, эта версия команды `PERFORM` используется для представления тех же таблиц умножения на основе выбора пользователя.

Глагол `PERFORM ... TIMES` является гибким, и количество раз, которое нужно выполнить, может быть переменной. Вот пример:
```
PERFORM A-PARAGRAPH HOW-MANY TIMES.
```
В mult03.cbl программа таблицы умножения продвигается на один шаг вперед, позволяя пользователю указать количество отображаемых записей.