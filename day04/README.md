# Decision Making

Программа должна быть способна принимать решения о данных и выполнять различные разделы кода на основе этих решений. Управление потоком программ с помощью условий тестирования с помощью оператора IF лежит в основе каждой программы.

* Что такое IF?
* Использование IF для управления несколькими операторами.
* Что вы можете проверить с IF?
* Тестирование нескольких условий. 
* Использование IF-ELSE. 

## IF
Основной метод изменения потока программы - принятие решений с использованием глагола IF. В следующем примере демонстрируется глагол IF:
```
IF condition
    PERFORM DO-SOMETHING.
```

Когда COBOL видит `IF`, он принимает решение об условии, а затем либо запрашивает `PERFORM of DO-SOMETHING`, либо пропускает эту строку программы.

Делать - не делать: DO Проверяйте значение для буквенно-цифрового поля в верхнем и нижнем регистре, если допустимы значения в верхнем и нижнем регистре. Не игнорируйте различия регистра в переменной, если они важны в программе.

`IS EQUAL` - это зарезервированные слова на языке COBOL, используемые для проверки, равны ли два значения.
Когда критерии проверяемого состояния выполнены, условие считается истинным. Если проверяемого тестируемого состояния не выполняются, условие считается ложным.

## Использование IF для управления несколькими утверждениями

В листинге yesno03.cbl выполняется несколько операторов под контролем тестов IF в строках 40 и 44. В каждой последовательности PERFORM запрашивается для отображения дополнительного сообщения перед отображением основного сообщения. Когда IF проверяет true, может быть выполнено несколько операторов:

IF condition
    PERFORM DO-SOMETHING
    PERFORM DO-SOMETHING-ELSE.

IF контролирует все операторы под ним, пока не закончится предложение. Когда IF проверяет истину, все операторы до следующего периода выполняются. Когда IF проверяет false, все операторы до следующего периода пропускаются.

АНАЛИЗ: Когда IF в строке 44 проверяет истину, строки 41 и 42 выполняются одна за другой. Строка 41 является запросом PERFORM, который заставляет сообщение отображаться в строке 49. Аналогичное действие происходит, когда IF в строке 40 проверяет истину и выполняются строки 45 и 46.

## Что вы можете проверить с IF?
Условие в глаголе IF - это проверка одного значения против другого на равенство или неравенство.

> Новый термин: символы, используемые для сравнения двух значений, называются операторами сравнения. Короткие и длинные версии этих сравнений являются операторами сравнения. `IS NOT EQUAL`, `NOT =`, `=`, `IS EQUAL`, `NOT <`, `>`, `GREATER THAN`, and `NOT GREATER THAN` являются примерами операторов сравнения.

| Оператор сравнения              | Описание                                                     |
| ------------------------------- | ------------------------------------------------------------ |
| IF x IS EQUAL y                 | Истинно если x равно y                                       |
| IF x IS LESS THAN y             | Истинно если x меньше чем y                                  |
| IF x IS GREATER THAN y          | Истинно если x больше чем y                                  |
| IF x IS NOT EQUAL y             | Истинно если x не равно y                                    |
| IF x IS NOT LESS THAN y         | Истинно если x не меньше чем y (или равно или больше, чем y) |
| IF x IS NOT GREATER THAN y      | Истинно если x не больше чем y (или равно или меньше, чем y) |

Слово `IS` в сравнении является необязательным, `EQUAL`, `GREATER THAN` и `LESS THAN` могут быть сокращены до `=`, `>` и `<` соответственно.

|Optional                |Operator Shortest Version|
|------------------------|-------------------------|
|IF x EQUAL y            |IF x = y                 |
|IF x LESS THAN y        |IF x < y                 |
|IF x GREATER THAN y     |IF x > y                 |
|IF x NOT EQUAL y        |IF x NOT = y             |
|IF x NOT LESS THAN y    |IF x NOT < y             |
|IF x NOT GREATER THAN y |IF x NOT > y             |

Здесь `yesno04.cbl` повторяет `yesno03.cbl`, используя сокращенные сравнения.

Для числовых значений все эти тесты имеют смысл. Меньше и больше, чем оба условия, которые легко можно установить при сравнении двух чисел. Но что вы тестируете, когда сравниваете две буквенно-цифровые переменные?

Когда выполняется проверка условия для буквенно-цифровых переменных, эти тесты обычно сравнивают символы в двух буквенно-цифровых значениях слева и справа от оператора сравнения в порядке ASCII. 

> Новый термин: последовательность, в которой символы появляются на диаграмме ASCII, называется последовательностью сортировки ASCII. Собирать означает собирать в каком-то порядке - в данном случае в порядке ASCII.

`ASCII` - не единственная последовательность сортировки. В мейнфреймах IBM используется последовательность сортировки, называемая `EBCDIC`. В последовательности сортировки `ASCII` цифры отображаются перед заглавными буквами, а заглавные - перед строчными. В последовательности сортировки `EBCDIC` строчные буквы появляются до прописных букв, а цифры появляются последними. Знаки пунктуации значительно отличаются в последовательностях сортировки `EBCDIC` и `ASCII`.

Последовательности сортировки также различаются для разных разговорных языков. Кастильский испанский трактует буквенные комбинации `ch` и `ll` как отдельные буквы, так что `llanero` сортирует по luna, а `chico` - по коразону. Примеры в этой книге основаны на последовательности сортировки английского `ASCII`.

В порядке `ASCII` `A` меньше `B`, `AB` меньше `ABC`, а заглавные буквы меньше строчных; итак, `ABC` меньше, чем `abc`. Если буквенно-цифровая переменная содержит цифры от 0 до 9, цифры меньше символов, поэтому `1BC` меньше `ABC`. Пробелы ниже всего, поэтому `три пробела` меньше `00А`.

Отступ, выбранный для `IF`, является абсолютно произвольным. Пока `IF` начинается и остается в зоне `B`, договоренность зависит от вас. 

> Делать - не делать: делайте отступ, если условия тщательно. IF контролирует все утверждения вплоть до периода в конце предложения.
> НЕ используйте небрежный отступ на IF. Правильный отступ дает хорошее визуальное представление о том, какие части программы контролируются IF.

## Тестирование нескольких условий

Тест `IF` также может использоваться для проверки более одного условия. Условия могут быть объединены с помощью `AND`, `OR` или их комбинации. Программа меню предназначена для отображения ряда параметров на экране и позволяет пользователю выбрать один из вариантов для выполнения. В этой программе меню пользователь может выбрать одно из трех возможных сообщений.

## IF-ELSE
В случае сбоя теста `IF` ни один из операторов, контролируемых тестом `IF`, не выполняется. Программа переходит к следующему предложению и пропускает всю логику.